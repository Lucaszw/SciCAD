<html>
  <head>
    <title>Routes</title>
  </head>
  <body>
    <script>
      const pkginfo = require('pkginfo')(module);
      const {ipcRenderer} = require('electron');

      const RoutesModel = require('../RoutesModel.js');

      const appname = host = n = undefined;
      const version = module.exports.version;

      ipcRenderer.on('ports', (e, data) => {
        const {mqtt_tcp_port, http_port} = JSON.parse(data);
        let storageUrl = `http://localhost:${http_port}`;
        const options = {storageUrl: storageUrl, resubscribe: false};
        model = new RoutesModel(appname, host, mqtt_tcp_port, n, version, options);
      });

    </script>
  </body>
</html>
